\NeedsTeXFormat{LaTeX2e}

\def\CalendarVersion{3.1}
\def\CalendarVersionDate{2009/04/24}

\ProvidesClass{calendar-spanish}[\CalendarVersionDate
           LaTeX2e class file `calendar' v\CalendarVersion]

\typeout{'calendar' style \CalendarVersion \CalendarVersionDate.}
\typeout{Created by Evan Sultanik}
\typeout{****** Bugs/comments/suggestions/technicalities to Evan Sultanik -- evan@sultanik.com ******}

\RequirePackage{tabularx}

\def\@CALtrue{1}
\newcount\@currentdaynum
\newcounter{calendardate}
\newcount\StartingDayNumber
\newcounter{semanal}
\newcounter{semanal2}

\def\dayheader#1#2{
  \noindent
  \begin{minipage}[t]{0.85\hsize}
    \noindent
    \raggedright
    \textit{#1}
  \end{minipage}
  \begin{minipage}[t]{0.11\hsize}
    \noindent
    \raggedleft
    \color{secondary}
    #2
   \vfill
  \end{minipage}
}
\def\activities#1{
  \parbox{\hsize}{
  \raggedright
  % \raggedleft
  \scriptsize 
  \rule{0em}{0.4pt} 
  #1
    }\smallskip
}

\let\@colbreak=&

\def\printdayname#1{\hfill\bfseries\textsc{#1}\hfill}

\newcommand{\dayname}[1]{
  \ifnum#1=1 Domingo\else
  \ifnum#1=2 Lunes\else
  \ifnum#1=3 Martes\else
  \ifnum#1=4 Miércoles\else
  \ifnum#1=5 Jueves\else
  \ifnum#1=6 Viernes\else
  \ifnum#1=7 Sábado\else
    \PackageError{calendar}{Unrecognized day number: #1!}
  \fi\fi\fi\fi\fi\fi\fi
}

\StartingDayNumber=1
\newenvironment{calendar}[1]{
  \newdimen\@calendarwidth
  \@calendarwidth=#1
  \begingroup
    \def\@calendarmode{\@CALtrue}
  \def\day##1##2{
  \if\@calendarmode\@CALtrue\else\PackageWarning{calendar}{The '\day' macro is expected to be used in the 'calendar' environment!}\fi
  \ifnum\@currentdaynum>7\global\@currentdaynum=1\fi
  \global\advance\@currentdaynum by 1
  \dayheader{##1}{\grotesk\thecalendardate}\def\daysep{\vskip1pt\hrule\vskip1pt}
  \color{secondary}
  \activities{##2}
  \addtocounter{calendardate}{1}
  \vspace{1mm}
  \ifnum\@currentdaynum>7\@arraycr\hline\else&\fi
  }
\def\finishCalendar{
  \ifnum\@currentdaynum=6 &\\\hline\else
  \ifnum\@currentdaynum=5 &&\\\hline\else
  \ifnum\@currentdaynum=4 &&&\\\hline\else
  \ifnum\@currentdaynum=3 &&&&\\\hline\else
  \ifnum\@currentdaynum=2 &&&&&\\\hline\else
  \ifnum\@currentdaynum=1 &&&&&&\\\hline
  \fi\fi\fi\fi\fi\fi
}
  \def\BlankDay{
  \if\@calendarmode\@CALtrue\else\PackageWarning{calendar}{The '\calendarday' macro is expected to be used in the 'calendar' environment!}\fi
  \ifnum\@currentdaynum>7\global\@currentdaynum=1\fi
  \global\advance\@currentdaynum by 1
  \addtocounter{calendardate}{1}
  \ifnum\@currentdaynum>7\@arraycr\hline\else&\fi
  }

    \setcounter{calendardate}{1}
    \newcount\@currday
    \@currday=2%\StartingDayNumber
    \newcount\@numdays
    \@numdays=7
    \let\@cbreak=&
    \tabularx{\@calendarwidth}{|X|X|X|X|X|X|X|} \hline
    \ifnum\@currday>\@numdays\@currday=1\fi\printdayname{\dayname{\@currday}} \global\advance\@currday by 1 &
    \ifnum\@currday>\@numdays\@currday=1\fi\printdayname{\dayname{\@currday}} \global\advance\@currday by 1 &
    \ifnum\@currday>\@numdays\@currday=1\fi\printdayname{\dayname{\@currday}} \global\advance\@currday by 1 &
    \ifnum\@currday>\@numdays\@currday=1\fi\printdayname{\dayname{\@currday}} \global\advance\@currday by 1 &
    \ifnum\@currday>\@numdays\@currday=1\fi\printdayname{\dayname{\@currday}} \global\advance\@currday by 1 &
    \ifnum\@currday>\@numdays\@currday=1\fi\printdayname{\dayname{\@currday}} \global\advance\@currday by 1 &
    \ifnum\@currday>\@numdays\@currday=1\fi\printdayname{\dayname{\@currday}} \global\advance\@currday by 1 \\ \hline \hline
      \@currentdaynum=1
      \let\@firstline=\@CALtrue
}{
    \endtabularx
  \endgroup
}

\usepackage{graphicx}
\graphicspath{
{/Users/ericlucero/Dropbox/00-academic/UMIP/media/identity/}
{/Users/ericlucero/Dropbox/00-academic/UMIP/media/Logos/}
}
\usepackage{xcolor}
\definecolor{primary}{RGB}{241,90,41}
\definecolor{secondary}{RGB}{0,85,148}
\definecolor{terciary}{RGB}{26,141,153}
% \definecolor{tertiary}{cmyk}{, , , }
% \definecolor{}{cmyk}{, , , }

% % !Azul
% CMYK: C99 M73 Y14 K2
% RGB: R0 G85 B148
% HEX: #005594
% % !Azul Claro
% CMYK: C57 M32 Y5 K0
% RGB: R113 G152 B198
% HEX: #7198C6
% % !Turquesa
% CMYK: C82 M28 Y37 K2
% RGB: R26 G141 B153
% HEX: #1A8D99
% % !Gris
% CMYK: C0 M0 Y0 K40
% RGB: R167 G169 B172
% HEX: #A7A9AC
% % !Naranja
% CMYK: C0 M80 Y95 K0
% RGB: R241 G90 B41
% HEX: #F15A29
% % !mostaza
% CMYK: C28 M56 Y94 K12
% RGB: R170 G113 B51
% HEX: #C17D2